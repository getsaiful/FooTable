(function(e,t,undefined){function a(t){var a=e("<th>"+t.title+"</th>");return e.isPlainObject(t.data)&&a.data(t.data),e.isPlainObject(t.style)&&a.css(t.style),t.className&&a.addClass(t.className),a}function o(t,o){var n=t.find("thead");0===n.size()&&(n=e("<thead>").appendTo(t));for(var i=e("<tr>").appendTo(n),r=0,l=o.cols.length;l>r;r++)i.append(a(o.cols[r]))}function n(t){var a=t.find("tbody");0===a.size()&&(a=e("<tbody>").appendTo(t))}function i(t,a,o){if(o){t.attr("data-page-size",o["page-size"]);var n=t.find("tfoot");0===n.size()&&(n=e('<tfoot class="hide-if-no-paging"></tfoot>').appendTo(t)),n.append("<tr><td colspan="+a.length+"></td></tr>");var i=e("<div>").appendTo(n.find("tr:last-child td"));i.addClass(o["pagination-class"])}}function r(t){for(var a=t[0],o=0,n=t.length;n>o;o++){var i=t[o];if(i.data&&(i.data.toggle===!0||"true"===i.data.toggle))return}a.data=e.extend(a.data,{toggle:!0})}function l(e,t,a){0===e.find("tr.emptyInfo").size()&&e.find("tbody").append('<tr class="emptyInfo"><td colspan="'+t.length+'">'+a+"</td></tr>")}function d(t,a,o,n){t.find("tr:not(."+o+")").each(function(){var t=e(this),o=a.data("index"),i=parseInt(t.data("index"),0),r=i+n;i>=o&&this!==a.get(0)&&t.attr("data-index",r).data("index",r)})}function s(){function t(t,a,o){var n=e("<td>");return t.formatter?n.html(t.formatter(a,n,o)):n.html(a||""),n}var a=this;a.name="Footable Grid",a.init=function(t){var d=t.options.classes.toggle,s=t.options.classes.detail,f=t.options.grid;if(f.cols){a.footable=t;var u=e(t.table);u.data("grid",a),e.isPlainObject(f.data)&&u.data(f.data),a._items=[],r(f.cols),f.showCheckbox&&(f.multiSelect=!0,f.cols.unshift({title:f.checkboxFormatter(!0),name:"",data:{"sort-ignore":!0},formatter:f.checkboxFormatter})),f.showIndex&&f.cols.unshift({title:"#",name:"index",data:{"sort-ignore":!0},formatter:f.indexFormatter}),o(u,f),n(u),i(u,f.cols,f.pagination),u.off(".grid").on({"footable_initialized.grid":function(){f.url||f.ajax?e.ajax(f.ajax||{url:f.url}).then(function(e){a.newItem(e),t.raise(f.events.loaded)},function(){throw"load data from "+(f.url||f.ajax.url)+" fail"}):(a.newItem(f.items||[]),t.raise(f.events.loaded))},"footable_sorted.grid footable_grid_created.grid footable_grid_removed.grid":function(){f.showIndex&&a.getItem().length>0&&u.find("tbody tr:not(."+s+")").each(function(t){var a=e(this).find("td:first");a.html(f.indexFormatter(null,a,t))})},"footable_redrawn.grid footable_row_removed.grid":function(){0===a.getItem().length&&f.showEmptyInfo&&l(u,f.cols,f.emptyInfo)}}).on({"click.grid":function(a){if(e(a.target).closest("td").find(">."+d).size()>0)return!0;var o=e(a.currentTarget);return o.hasClass(s)?!0:(f.multiSelect||o.hasClass(f.activeClass)||u.find("tbody tr."+f.activeClass).removeClass(f.activeClass),o.toggleClass(f.activeClass),f.showCheckbox&&o.find("input:checkbox.check").prop("checked",function(e,t){return a.target===this?t:!t}),t.toggleDetail(o),undefined)}},"tbody tr").on("click.grid","thead input:checkbox.checkAll",function(e){var t=!!e.currentTarget.checked;t?u.find("tbody tr").addClass(f.activeClass):u.find("tbody tr").removeClass(f.activeClass),u.find("tbody input:checkbox.check").prop("checked",t)})}},a.getSelected=function(){var t=a.footable.options.grid,o=e(a.footable.table).find("tbody>tr."+t.activeClass);return o.map(function(){return e(this).data("index")})},a.getItem=function(t){return t!==undefined?e.isArray(t)?e.map(t,function(e){return a._items[e]}):a._items[t]:a._items},a._makeRow=function(o,n){var i,r=a.footable.options.grid;if(e.isFunction(r.template))i=e(r.template(e.extend({},{__index:n},o)));else{i=e("<tr>");for(var l=0,d=r.cols.length;d>l;l++){var s=r.cols[l];i.append(t(s,o[s.name]||"",n))}}return i.attr("data-index",n),i},a.newItem=function(t,o,n){var i=e(a.footable.table).find("tbody"),r=a.footable.options.classes.detail;if(i.find("tr.emptyInfo").remove(),e.isArray(t)){for(var l;l=t.pop();)a.newItem(l,o,!0);return a.footable.redraw(),a.footable.raise(a.footable.options.grid.events.created,{item:t,index:o}),undefined}if(e.isPlainObject(t)){var s,f=a._items.length;if(o===undefined||0>o||o>f)s=a._makeRow(t,f++),a._items.push(t),i.append(s);else{if(s=a._makeRow(t,o),0===o)a._items.unshift(t),i.prepend(s);else{var u=i.find("tr[data-index="+(o-1)+"]");a._items.splice(o,0,t),u.data("detail_created")===!0&&(u=u.next()),u.after(s)}d(i,s,r,1)}n||(a.footable.redraw(),a.footable.raise(a.footable.options.grid.events.created,{item:t,index:o}))}},a.setItem=function(t,o){if(e.isPlainObject(t)){var n=e(a.footable.table).find("tbody"),i=a._makeRow(t,o);e.extend(a._items[o],t);var r=n.find("tr").eq(o);r.html(i.html()),a.footable.redraw(),a.footable.raise(a.footable.options.grid.events.updated,{item:t,index:o})}},a.removeItem=function(t){var o=e(a.footable.table).find("tbody"),n=a.footable.options.classes.detail,i=[];if(e.isArray(t)){for(var r;r=t.pop();)i.push(a.removeItem(r));return a.footable.raise(a.footable.options.grid.events.removed,{item:i,index:t}),i}if(t===undefined)o.find("tr").each(function(){i.push(a._items.shift()),a.footable.removeRow(this)});else{var l=o.find("tr[data-index="+t+"]");i=a._items.splice(t,1)[0],a.footable.removeRow(l),d(o,l,n,-1)}return a.footable.raise(a.footable.options.grid.events.removed,{item:i,index:t}),i}}if(t.footable===undefined||null===t.foobox)throw Error("Please check and make sure footable.js is included in the page and is loaded prior to this script.");var f={grid:{enabled:!0,data:null,template:null,cols:null,items:null,url:null,ajax:null,activeClass:"active",multiSelect:!1,showIndex:!1,showCheckbox:!1,showEmptyInfo:!1,emptyInfo:'<p class="text-center text-warning">No Data</p>',pagination:{"page-size":20,"pagination-class":"pagination pagination-centered"},indexFormatter:function(e,t,a){return a+1},checkboxFormatter:function(e){return'<input type="checkbox" class="'+(e?"checkAll":"check")+'">'},events:{loaded:"footable_grid_loaded",created:"footable_grid_created",removed:"footable_grid_removed",updated:"footable_grid_updated"}}};t.footable.plugins.register(s,f)})(jQuery,window);