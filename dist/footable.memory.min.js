(function(e,t,undefined){function a(){var t=this;t.name="Footable Memory",t.init=function(t){l(t)&&e(t.table).bind({footable_initialized:function(){s(t)},"footable_page_filled footable_redrawn footable_filtered footable_sorted footable_row_expanded footable_row_collapsed":function(e){t.memory_plugin_loaded&&d(t,e)}})}}if(t.footable===undefined||null===t.foobox)throw Error("Please check and make sure footable.js is included in the page and is loaded prior to this script.");var o,n={memory:{enabled:!1}},i={};i.local_storage=function(){"use strict";var e=function(){return location.pathname},t=function(){return location.hash||"root"},a=function(a){return e()+"/"+t()+"/index-"+a},o=function(e){var t=a(e),o=localStorage.getItem(t);return o?JSON.parse(o):{}},n=function(e,t){var o=a(e),n=JSON.stringify(t);localStorage.setItem(o,n)};return{get:function(e){return o(e)},set:function(e,t){n(e,t)}}}(e),i.cookie=function(e){"use strict";e.cookie&&(e.cookie.json=!0);var t=7,a=function(){return location.pathname},o=function(){return location.hash||"/"},n=function(){var t=a(),o=e.cookie(t);return o||{}},i=function(e){var t=o(),a=n();return a[t]&&a[t][e]?a[t][e]:{}},r=function(i,r){var l,d=a(),s=o(),u=n();u[s]||(u[s]={}),u[s][i]=r,l={path:d,expires:t},e.cookie(d,u,l)};return{get:function(e){return i(e)},set:function(e,t){r(e,t)}}}(e),function(){var t="footable-memory-plugin-storage-test";try{localStorage.setItem(t,t),localStorage.removeItem(t),o=i.local_storage}catch(a){try{e.cookie(t,t),o=i.cookie}catch(a){throw Error("FooTable Memory requires either localStorage or cookie support via jQuery $.cookie plugin (https://github.com/carhartl/jquery-cookie)")}}}(e);var r=function(e){"use strict";var t={},a={},o={};o.vars=function(a){t.ft=a,t.table=e(a.table)},a.descending=function(){var a=!1;return e.each(t.table.find("th"),function(){e(this).hasClass("footable-sorted-desc")&&(a=!0)}),a},a.expanded=function(){var a=[];return e.each(t.ft.table.rows,function(t){e(this).hasClass("footable-detail-show")&&a.push(t)}),a},o.expanded=function(a){a.expanded&&e.each(a.expanded,function(a,o){(function(t){setTimeout(function(){var a=e(t.table.rows[o]);a.find("> td:first").trigger("footable_toggle_row")},150)})(t.ft)})},a.filter=function(){return t.table.data("filter")?e(t.table.data("filter")).val():""},o.filter=function(a){a.filter&&e(t.table.data("filter")).val(a.filter).trigger("keyup")},a.page=function(){return t.ft.pageInfo&&t.ft.pageInfo.currentPage!==undefined?t.ft.pageInfo.currentPage:0},o.page=function(e){e.page&&t.table.data("currentPage",e.page)},a.shown=function(){return t.table.find("tbody").find("tr:not(.footable-row-detail)").filter(":visible").length},a.sorted=function(){return t.table.data("sorted")!==undefined?t.table.data("sorted"):-1},o.sorted=function(a){a.sorted>=0?function(t){setTimeout(function(){e(t.table).data("footable-sort").doSort(a.sorted,!a.descending)},150)}(t.ft):t.table.trigger("footable_setup_paging")},a.total=function(){return t.table.find("tbody").find("tr:not(.footable-row-detail, .footable-filtered)").length};var n=function(){return{descending:a.descending(),expanded:a.expanded(),filter:a.filter(),page:a.page(),shown:a.shown(),sorted:a.sorted(),total:a.total()}},i=function(e){o.filter(e),o.page(e),o.sorted(e),o.expanded(e)};return{get:function(e){return o.vars(e),n()},set:function(e,t){return o.vars(e),i(t)}}}(e),l=function(e){return e.options.memory.enabled},d=function(e){var t=e.id,a=r.get(e);o.set(t,a)},s=function(e){var t=e.id,a=o.get(t);r.set(e,a),e.memory_plugin_loaded=!0};t.footable.plugins.register(a,n)})(jQuery,window);